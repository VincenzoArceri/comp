mutex pmutex;

var bucket, globalCounter;

globalCounter = 0;
bucket = 50;

execute {
	var counter;
	counter = 0;

	while (globalCounter <= 1000) {
		lock pmutex;
		
		bucket = bucket - 1;
		globalCounter = globalCounter +1;
		
		unlock pmutex;

		counter = counter + 1;
	}

	print(0);
};

execute {
	var counter;
	counter = 0;

	while (globalCounter <= 1000) {
		lock pmutex;
		
		bucket = bucket +1;
		globalCounter = globalCounter +1;

		unlock pmutex;

		counter = counter +1;
	}

	print(0);
};

print(0);